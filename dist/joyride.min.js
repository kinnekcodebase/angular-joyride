!function(){function e(e,t){var r=new RegExp("\\b"+t+".*?\\b","g");return e.className=e.className.replace(r,""),e}function t(e){var t=document.documentElement,r=e.getBoundingClientRect();return{top:r.top+window.pageYOffset-t.clientTop,left:r.left+window.pageXOffset-t.clientLeft}}function r(){if(void 0!=window.pageYOffset)return pageYOffset;var e,t=document,r=t.documentElement,o=t.body;return e=r.scrollTop||o.scrollTop||0,[sx,e]}function o(e){function t(e,t,r,o){return(e/=o/2)<1?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t)}var r=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o=e-r,n=Math.min(4*Math.abs(o),1e3),i=0;if(Math.abs(o)>10){var s=function(){i+=20;var e=t(i,r,o,n);window.scrollTo(0,e),i<n&&setTimeout(s,20)};s()}}var n=angular.module("angular-joyride",["ngAnimate"]);n.run(["$templateCache",function(e){e.put("ngJoyrideDefault.html",'<div class="jr_container" id="jr_{{joyride.current}}"><div class="jr_step"><h4 ng-if="joyride.config.steps[joyride.current].title" class="jr_title">{{joyride.config.steps[joyride.current].title}}</h4><div ng-if="joyride.config.steps[joyride.current].content" class="jr_content" ng-bind-html="joyride.config.steps[joyride.current].content | jr_trust"></div></div><div class="jr_buttons"><div class="jr_left_buttons"><a class="jr_button jr_skip" ng-click="joyride.start = false">Skip</a></div><div class="jr_right_buttons"><a class="jr_button jr_prev" ng-click="joyride.prev()" ng-class="{\'disabled\' : joyride.current === 0}">Prev</a><a class="jr_button jr_next" ng-click="joyride.next()" ng-bind="(joyride.current == joyride.config.steps.length-1) ? \'Finish\' : \'Next\'"></a></div></div></div>')}]);var i=function(n,i,s,a,l,c){return{restrict:"E",scope:{},template:'<div class="jr_overlay"></div>',link:function(u,d,f){function y(){var e=s(h)(u),t=u.joyride.config.steps[u.joyride.current],r=angular.element(document.querySelector("body")),o=!1;if("element"===t.type&&!t.appendToBody){var n=angular.element(document.querySelector(t.selector));n.length?(o=!0,r=n):console.warn("Could not find element with selector:",t.selector)}r.append(e),_=document.querySelector(".jr_container"),o&&angular.element(_).on("click",function(e){e.preventDefault(),e.stopPropagation()}),angular.element(_).append("<div class='triangle'></div>"),u.joyride.start&&(u.joyride.transitionStep||angular.element(_).addClass("jr_start").addClass("jr_transition"))}function p(){angular.element(_).remove()}function j(){p(),_&&n.removeClass(_,"jr_start").then(S)}function g(){"function"==typeof u.joyride.config.steps[u.joyride.current].afterStep?u.joyride.config.steps[u.joyride.current].afterStep(m):m()}function m(){"next"==u.joyride.transitionStep?u.joyride.current++:u.joyride.current--,"function"==typeof u.joyride.config.steps[u.joyride.current].beforeStep?u.joyride.config.steps[u.joyride.current].beforeStep(u.joyride.resumeJoyride):u.joyride.resumeJoyride()}function v(){var n=u.joyride.config.steps[u.joyride.current];l(function(){e(_,"jr_pos_");var i=u.joyride.config.steps[u.joyride.current];if("element"==i.type&&document.querySelector(i.selector)){_.removeAttribute("style"),angular.element(_).addClass("jr_element"),document.querySelector(".jr_target")&&angular.element(document.querySelector(".jr_target")).removeClass("jr_target");var s=angular.element(document.querySelector(i.selector)),a=t(s[0]),l=window.innerWidth,c=_.offsetWidth,d=s[0].offsetWidth,f=_.clientHeight,y=s[0].clientHeight;s.addClass("jr_target");var p=i.placement||"bottom";i.responsive&&l<i.responsive.breakpoint&&(p=i.responsive.placement||"bottom"),angular.element(_).addClass("jr_pos_"+p),n.appendToBody&&("top"===p||"bottom"===p?("top"===p?a.top-=f+20:a.top+=y+20,a.left=a.left+d/2-c/2):(a.top=a.top+y/2-f/2,"left"===p?a.left-=c+20:a.left+=d+20),_.style.left=a.left+"px",_.style.top=a.top+"px",_.style.right="auto",_.style.bottom="auto",_.style.transform="none");var j=t(_);if("left"!==p&&"right"!==p){if(j.left<0){var g=document.querySelector(".jr_container .triangle");g.style.left=d/2-g.offsetWidth/2+"px",g.style.right="auto",_.style.left=0,_.style.right="auto"}else if(j.left+c>l){var g=(j.left,document.querySelector(".jr_container .triangle"));g.style.right=d/2-g.offsetWidth/2+"px",g.style.left="auto",_.style.left="auto",_.style.right=0}}else if(j.top<0){var g=document.querySelector(".jr_container .triangle"),m=y/2-g.offsetHeight/2;g.style.top=m<0?"0px":m+"px",g.style.bottom="auto",_.style.top=0,_.style.transform="none"}!1!==i.scroll&&("bottom"===p?scroll_pos=a.top-y:"top"===p?scroll_pos=a.top-f:y<f&&(scroll_pos=a.top-(f-y)/2),o(scroll_pos))}else angular.element(_).removeClass("jr_element"),document.querySelector(".jr_target")&&angular.element(document.querySelector(".jr_target")).removeClass("jr_target"),_.style.left="",_.style.top=r(p,_)+100+"px"})}u.joyride=i;var _,h;angular.element(c).bind("resize",function(){u.joyride.start&&v()}),u.$on("exitJoyride",function(e){j()}),u.$watch("joyride.start",function(e,t){function r(){y(),n.addClass(_,"jr_start").then(u.joyride.config.onStart),v()}e===t&&!0!==e||(e&&(h=u.joyride.config.template||"ngJoyrideDefault.html",a(h,!1).then(function(e){h=e,angular.element(document.querySelector("body")).addClass("jr_active"),!1!==u.joyride.config.overlay&&angular.element(document.querySelector("body")).addClass("jr_overlay_show"),"function"==typeof u.joyride.config.steps[u.joyride.current].beforeStep?u.joyride.config.steps[u.joyride.current].beforeStep(r):r()})),e||j())},!0),u.$watch("joyride.transitionStep",function(e,t){if(e!==t&&u.joyride.start){if(e)if("next"==e&&u.joyride.current==u.joyride.config.steps.length-1)u.joyride.start=!1;else{if("prev"==e&&0==u.joyride.current)return;n.addClass(_,"jr_transition").then(g)}e||n.removeClass(_,"jr_transition")}},!0),u.joyride.resumeJoyride=function(){u.joyride.start&&(u.joyride.transitionStep=!1,"function"==typeof u.joyride.config.onStepChange&&u.joyride.config.onStepChange(),p(),y(),l(function(){v()}))};var S=function(){angular.element(document.querySelector("body")).removeClass("jr_active jr_overlay_show"),p(),u.joyride.current=0,u.joyride.transitionStep=!0,"function"==typeof u.joyride.config.onFinish&&u.joyride.config.onFinish(),document.querySelector(".jr_target")&&angular.element(document.querySelector(".jr_target")).removeClass("jr_target")}}}},s=function(){return{current:0,transitionStep:!0,resumeJoyride:function(){},start:!1,config:{overlay:!0,template:!1,steps:[],onStepChange:function(){},onFinish:function(){},onStart:function(){}},next:function(){this.transitionStep="next"},prev:function(){this.transitionStep="prev"},goTo:function(e){this.start=!0,e&&(this.current=e)}}};n.filter("jr_trust",["$sce",function(e){return function(t,r){return e.trustAsHtml(t)}}]),n.factory("joyrideService",[s]),n.directive("joyride",["$animate","joyrideService","$compile","$templateRequest","$timeout","$window",i])}();